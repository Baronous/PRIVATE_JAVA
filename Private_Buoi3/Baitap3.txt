package Private_Buoi3;
import java.util.ArrayList;
import java.util.Scanner;

public class MainBai1 {
    public static ArrayList<Baitap1.Vegetable> vegetables = new ArrayList<>();

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        int luachon;

        do{
            System.out.println("1. Nhap loai rau cu moi");
            System.out.println("2.Hien thi danh sach rau cu");
            System.out.println("3. Sap xep rau cu theo so tien: ");
            System.out.println("4. Nhom cac loai rau cu theo don vi tinh: ");
            System.out.println("5. Tim kiem rau cu: ");
            System.out.println("6. Thoat menu: ");
            System.out.print("Nhập lựa chọn của bạn: ");
            luachon = scanner.nextInt();
            scanner.nextLine();

            switch (luachon) {
                case 1:
                    addVegetable(scanner);
                    break;
                case 2:
                    displayAllVegetables();
                    break;
                case 3:
                    sortVegetablesByRevenue();
                    break;
                case 4:
                    groupVegetablesByUnit();
                    break;
                case 5:
                    searchVegetablesByName(scanner);
                    break;
                case 6:
                    System.out.println("Thoát chương trình");
                    break;
                default:
                    System.out.println("Lựa chọn không hợp lệ. Vui lòng chọn lại!");
            }
        }while(luachon != 6);
    }

    public static void addVegetable(Scanner scanner){
        System.out.print("Nhap ID: ");
        String id = scanner.nextLine();
        System.out.print("Nhap ten: ");
        String name = scanner.nextLine();
        System.out.print("Nhap don vi tinh: ");
        String unit = scanner.nextLine();
        System.out.print("Nhap so luong da ban: ");
        int quantitySold = scanner.nextInt();
        System.out.print("Nhap phan tram giam gia: ");
        int sale = scanner.nextInt();
        System.out.print("Nhap gia: ");
        double price = scanner.nextDouble();

        vegetables.add(new Baitap1.Vegetable(id, name, unit, quantitySold, sale, price));
    }
    private static void displayAllVegetables() {
        System.out.printf("%-10s%-20s%-10s%-15s%-10s%-10s%-15s\n", "ID", "Name", "Unit", "QuantitySold", "Sale", "Price", "Revenue");
        for (Baitap1.Vegetable veg : vegetables) {
            veg.display();
        }
    }

    private static void sortVegetablesByRevenue() {
        vegetables.sort(Comparator.comparingDouble(Vegetable::getTotalRevenue));
        displayAllVegetables();
    }
}
